{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/_own-keys.js","webpack:///./src/views/cadastro/Veiculos.vue?21e9","webpack:///src/views/cadastro/Veiculos.vue","webpack:///./src/views/cadastro/Veiculos.vue?88da","webpack:///./src/views/cadastro/Veiculos.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"names":["$export","ownKeys","toIObject","gOPD","createProperty","S","getOwnPropertyDescriptors","object","key","desc","O","getDesc","f","keys","result","i","length","undefined","gOPN","gOPS","anObject","Reflect","module","exports","it","getSymbols","concat","render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","staticRenderFns","components","data","className","config","mounted","$","w2grid","getConfig","grid","methods","name","url","autoLoad","skip","show","footer","toolbar","lineNumbers","selectColumn","toolbarAdd","toolbarDelete","toolbarSave","toolbarEdit","withs","columns","limit","multiSearch","searches","onLoad","event","xhr","responseText","onAdd","openPopup","console","log","onEdit","row","id","method","w2ui","foo","foo_toolbar","foo_tabs","w2form","autosize","style","fields","items","record","onRequest","actions","validate","save","error","arrValue","join","field","w2popup","open","title","body","width","height","showMax","onToggle","box","hide","onComplete","resize","onOpen","w2render","onValidate","component","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable"],"mappings":"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","file":"js/chunk-45e512f2.9fcb9465.js","sourcesContent":["// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"40vh\"},attrs:{\"id\":\"main-for-w2ui-infinite-scroll\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    id='main-for-w2ui-infinite-scroll'\r\n    style='width: 100%; height: 40vh'\r\n  ></div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  components: {},\r\n  data: () => {\r\n    return {\r\n      className: 'veiculo',\r\n      config: {},\r\n    };\r\n  },\r\n  mounted () {\r\n    $('#main-for-w2ui-infinite-scroll').w2grid(this.getConfig().grid);\r\n  },\r\n  methods: {\r\n    getConfig: () => {\r\n      let className = process.env.VUE_APP_BASE_API + 'veiculo'\r\n      let config = {\r\n        grid: {\r\n          name: 'grid1',\r\n          url: className,\r\n          autoLoad: true,\r\n          skip: 0,\r\n          show: {\r\n            footer: true,\r\n            toolbar: true,\r\n            lineNumbers: false,\r\n            selectColumn: true,\r\n            toolbarAdd: true,\r\n            toolbarDelete: true,\r\n            toolbarSave: false,\r\n            toolbarEdit: true,\r\n          },\r\n          withs: ['users'],\r\n          columns: [\r\n              { field: 'id', text: 'ID', size: '5%' },\r\n              { field: 'placa', text: 'Placa', size: '50%' },\r\n              { field: 'modelo', text: 'Modelo', size: '40%' },\r\n              { field: 'tipo', text: 'Tipo', size: '40%' },\r\n              { field: 'cor', text: 'Cor', size: '40%' },\r\n              { field: 'users.name', text: 'Usuário', size: '40%' },\r\n          ],\r\n          limit: 6,\r\n          multiSearch: true,\r\n          searches: [\r\n            { field: 'id', label: 'ID ', type: 'int' },\r\n            { field: 'placa', label: 'Código da Placa', type: 'text' },\r\n            { field: 'modelo', label: 'Modelo', type: 'text' },\r\n            { field: 'tipo', label: 'Tipo', type: 'text' },\r\n            { field: 'cor', label: 'Cor', type: 'color' },\r\n            { field: 'users.name', label: 'Usuario', type: 'text' },\r\n          ] ,\r\n          onLoad: (event) => {\r\n            let data = event.xhr.responseJSON;\r\n            event.xhr.responseText = { records: data};\r\n          },\r\n          onAdd: function (event) {\r\n            this.openPopup()\r\n            console.log(['abre form de criação', event])\r\n            // window.location.href = className + '/create';\r\n          },\r\n          onEdit: function (event) {\r\n            console.log(['abre form de edição', event])\r\n            let row = this.get(this.getSelection())[0]\r\n            this.openPopup(row)\r\n          },\r\n          openPopup: (event = {}) => {\r\n            console.log(event)\r\n            let url = process.env.VUE_APP_BASE_API + 'veiculo'\r\n            let method = 'POST'\r\n            if (event.id) {\r\n              url += '/' + event.id\r\n              method = 'PUT'\r\n            }\r\n            console.log(event)\r\n            if (w2ui.foo) {\r\n              delete w2ui.foo\r\n              delete w2ui.foo_toolbar\r\n              delete w2ui.foo_tabs\r\n            }\r\n            $().w2form({\r\n              url: url,\r\n              method: method,\r\n              name: 'foo',\r\n              autosize: true,\r\n              style: 'background-color: transparent;z-index:99999',\r\n              fields: [\r\n                { field: 'placa', label: 'Código da Placa', type: 'text', required: true, attr: 'style=\"with:100%;\"', html: { label: 'Código da Placa' } },\r\n                { field: 'modelo', label: 'Modelo', type: 'text', attr: 'style=\"with:100%;\"', html: { label: 'Modelo' } },\r\n                { field: 'tipo', label: 'Tipo', type: 'list', attr: 'style=\"with:100%;\"', html: { label: 'Tipo' }, options: {\r\n                  items: ['carro', 'moto']\r\n                } },\r\n                { field: 'cor', label: 'Cor', type: 'text', attr: 'style=\"with:100%;\"', html: { label: 'Cor' } },\r\n                // { field: 'user_id', label: 'Usuario', type: 'list', html: { label: 'Usuário' }, options: {\r\n                //     openOnFocus: true,\r\n                //     url: process.env.VUE_APP_BASE_API + 'usuario',\r\n                //     onRequest(event) {\r\n                //       event.postData.search = [{ field: 'name', type: 'text', operator: 'contains', value: event.postData.search }]\r\n                //       event.postData.isSelect = ['id', 'name as text']\r\n                //     }\r\n                // } },\r\n              ],\r\n              record: event,\r\n              onRequest: function(event) {\r\n                  \r\n              },\r\n              actions: {\r\n                \"Reset\": function () { this.clear(); },\r\n                \"Save\": function (event) {\r\n                  let oldValue = this.record\r\n                  let postData = {tipo: null}\r\n                  let obj = this\r\n                  for (const key in obj.fields) {\r\n                      if (Object.hasOwnProperty.call(obj.fields, key)) {\r\n                          const f = obj.fields[key];\r\n                          if (f.type == 'enum') {\r\n                          }\r\n                          if (f.type == 'list') {\r\n                            let el = $(f.el).w2field()\r\n                            postData[f.field] = el.get().id\r\n                          }\r\n                      }\r\n                  }\r\n                  this.record = {...this.record, ...postData}\r\n                  this.validate();\r\n                  this.save((e) => {\r\n                  if (e.status !== true) {\r\n                    if (e.error) {\r\n                      let err = e.error\r\n                      for (const key in err) {\r\n                        if (Object.hasOwnProperty.call(err, key)) {\r\n                          const arrValue = err[key];\r\n                            this.last.errors.push({\r\n                              error: arrValue.join(' - '),\r\n                              field: this.get(key)\r\n                            })                            \r\n                        }\r\n                      }\r\n                      this.showErrors()\r\n                    }\r\n                  } else {\r\n                    console.log(this)\r\n                    w2popup.close()\r\n                    w2alert(e.message)\r\n                    console.log('aqui ainda')\r\n                    // w2ui.grid.refresh();\r\n                    // let id = w2ui.grid.getSelection()[0]\r\n                    // let registro = w2ui.grid.get(id)\r\n                    // let newVal = {...registro, ...this.record}\r\n                    // w2ui.grid.set(id, newVal, false)\r\n                    setTimeout(() => {\r\n                      w2popup.close()\r\n                    }, 5000);\r\n                  }\r\n                  this.record = oldValue\r\n                }) }\r\n              }\r\n            })\r\n            // }\r\n            w2popup.open({\r\n              title   : 'Atualizar Veiculo',\r\n              body    : '<div id=\"form\" style=\"width: 100%; height: 100%;\"></div>',\r\n              style   : 'padding: 15px 0px 0px 0px',\r\n              width   : 400,\r\n              height  : 400,\r\n              showMax : true,\r\n              onToggle: function (event) {\r\n                $(w2ui.foo.box).hide();\r\n                event.onComplete = function () {\r\n                  $(w2ui.foo.box).show();\r\n                  w2ui.foo.resize();\r\n                }\r\n              },\r\n              onOpen: function (event) {\r\n                event.onComplete = function () {\r\n                  // specifying an onOpen handler instead is equivalent to specifying an onBeforeOpen handler, which would make this code execute too early and hence not deliver.\r\n                  $('#w2ui-popup #form').w2render('foo');\r\n                }\r\n              }\r\n            })\r\n          },\r\n          onValidate(event) {\r\n            console.log(event)\r\n          },\r\n        },\r\n      };\r\n      return config;\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Veiculos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Veiculos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Veiculos.vue?vue&type=template&id=3459ea52&\"\nimport script from \"./Veiculos.vue?vue&type=script&lang=js&\"\nexport * from \"./Veiculos.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"sourceRoot":""}